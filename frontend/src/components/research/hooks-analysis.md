# üìä AN√ÅLISIS DE HOOKS DE RESEARCH COMPONENTS

## üîç **PATRONES IDENTIFICADOS**

### **1. WELCOME SCREEN HOOK**
```typescript
// useWelcomeScreen.ts
- Estado: formData, isLoading, isSaving, isDeleting, existingScreen
- Modales: modalError, modalVisible, confirmModalVisible
- Funciones: handleChange, handleSubmit, handleDelete, handlePreview
- Validaci√≥n: manual con useState
- API: apiClient directo
```

### **2. THANK YOU SCREEN HOOK**
```typescript
// useThankYouScreenForm.ts
- Estado: formData, thankYouScreenId, validationErrors, isLoading, isSaving
- Modales: modalError, modalVisible, confirmModalVisible
- Funciones: handleChange, handleSave, handlePreview, handleDelete
- Validaci√≥n: manual con useState
- API: useThankYouScreenData (domain hook)
```

### **3. COGNITIVE TASK HOOK**
```typescript
// useCognitiveTaskForm.ts
- Estado: formData, cognitiveTaskId, isLoading, isSaving
- Modales: modalError, modalVisible, showJsonPreview, isDeleteModalOpen
- Funciones: handleQuestionChange, handleAddChoice, handleFileUpload, handleSave
- Validaci√≥n: manual con useState
- API: useCreateCognitiveTask, useUpdateCognitiveTask, useDeleteCognitiveTask
- Hooks auxiliares: useCognitiveTaskFileUpload, useCognitiveTaskModals
```

### **4. SMART VOC HOOK**
```typescript
// useSmartVOCForm.ts
- Estado: formData, smartVocId, validationErrors, isLoading, isSaving
- Modales: modalError, modalVisible, isDeleteModalOpen
- Funciones: updateQuestion, addQuestion, removeQuestion, handleSave
- Validaci√≥n: manual con useState
- API: useSmartVOCData (domain hook)
```

## üéØ **PATRONES COMUNES IDENTIFICADOS**

### **‚úÖ ESTADO COM√öN:**
- `formData` - Datos del formulario
- `isLoading` - Estado de carga
- `isSaving` - Estado de guardado
- `modalError` - Error del modal
- `modalVisible` - Visibilidad del modal

### **‚úÖ FUNCIONES COMUNES:**
- `handleChange` - Cambiar datos del formulario
- `handleSave` - Guardar formulario
- `handleDelete` - Eliminar datos
- `handlePreview` - Vista previa
- `closeModal` - Cerrar modal

### **‚úÖ VALIDACI√ìN COM√öN:**
- Todos usan `useState` para validaci√≥n
- Patr√≥n similar de `ValidationErrors`
- Validaci√≥n manual en cada hook

### **‚úÖ MODALES COMUNES:**
- Modal de error
- Modal de confirmaci√≥n
- Modal de vista previa (CognitiveTask)

## üöÄ **OPORTUNIDADES DE OPTIMIZACI√ìN**

### **1. HOOKS GEN√âRICOS YA CREADOS:**
- ‚úÖ `useFormManager` - Gesti√≥n gen√©rica de formularios
- ‚úÖ `useModalManager` - Gesti√≥n gen√©rica de modales

### **2. REFACTORIZACI√ìN RECOMENDADA:**
- **WelcomeScreen** ‚Üí Usar `useFormManager` + `useModalManager`
- **ThankYouScreen** ‚Üí Usar `useFormManager` + `useModalManager`
- **CognitiveTask** ‚Üí Usar `useFormManager` + `useModalManager` + hooks espec√≠ficos
- **SmartVOC** ‚Üí Usar `useFormManager` + `useModalManager`

### **3. BENEFICIOS ESPERADOS:**
- Eliminaci√≥n de duplicaci√≥n de c√≥digo
- L√≥gica com√∫n centralizada
- Mantenimiento m√°s f√°cil
- Consistencia en comportamiento
- Mejor testing

## üìã **PLAN DE REFACTORIZACI√ìN**

### **FASE 1: WelcomeScreen**
- [ ] Refactorizar para usar `useFormManager`
- [ ] Refactorizar para usar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica

### **FASE 2: ThankYouScreen**
- [ ] Refactorizar para usar `useFormManager`
- [ ] Refactorizar para usar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica

### **FASE 3: CognitiveTask**
- [ ] Refactorizar para usar `useFormManager`
- [ ] Refactorizar para usar `useModalManager`
- [ ] Mantener hooks auxiliares espec√≠ficos

### **FASE 4: SmartVOC**
- [ ] Refactorizar para usar `useFormManager`
- [ ] Refactorizar para usar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica

## üéØ **RESULTADO ESPERADO**

### **ANTES:**
- 4 hooks con l√≥gica duplicada
- ~2000 l√≠neas de c√≥digo
- Mantenimiento complejo
- Inconsistencias en comportamiento

### **DESPU√âS:**
- 4 hooks refactorizados usando gen√©ricos
- ~800 l√≠neas de c√≥digo
- Mantenimiento centralizado
- Comportamiento consistente
- Hooks gen√©ricos reutilizables
