# üöÄ PLAN DE REFACTORIZACI√ìN DE HOOKS RESEARCH

## üìä **ESTADO ACTUAL**

### **HOOKS ANALIZADOS:**
1. **useWelcomeScreen** - 224 l√≠neas
2. **useThankYouScreenForm** - 320 l√≠neas  
3. **useCognitiveTaskForm** - 480 l√≠neas
4. **useSmartVOCForm** - 314 l√≠neas

**TOTAL:** ~1,338 l√≠neas de c√≥digo con l√≥gica duplicada

## üéØ **OBJETIVOS DE REFACTORIZACI√ìN**

### **PRIMARY GOALS:**
- ‚úÖ Eliminar duplicaci√≥n de c√≥digo
- ‚úÖ Centralizar l√≥gica com√∫n
- ‚úÖ Mejorar mantenibilidad
- ‚úÖ Asegurar consistencia
- ‚úÖ Reducir l√≠neas de c√≥digo

### **SECONDARY GOALS:**
- ‚úÖ Mejorar testing
- ‚úÖ Documentar patrones
- ‚úÖ Crear ejemplos de uso
- ‚úÖ Optimizar imports

## üîß **ESTRATEGIA DE REFACTORIZACI√ìN**

### **FASE 1: WELCOME SCREEN (PRIORIDAD ALTA)**
```typescript
// ANTES: useWelcomeScreen.ts (224 l√≠neas)
- Estado manual: formData, isLoading, isSaving, isDeleting
- Modales manuales: modalError, modalVisible, confirmModalVisible
- Validaci√≥n manual: useState para errores
- API directa: apiClient

// DESPU√âS: useWelcomeScreenRefactored.ts (~100 l√≠neas)
- useFormManager: Gesti√≥n de formulario
- useModalManager: Gesti√≥n de modales
- Validaci√≥n centralizada
- API domain hook
```

### **FASE 2: THANK YOU SCREEN (PRIORIDAD ALTA)**
```typescript
// ANTES: useThankYouScreenForm.ts (320 l√≠neas)
- Estado manual: formData, thankYouScreenId, validationErrors
- Modales manuales: modalError, modalVisible, confirmModalVisible
- Validaci√≥n manual: useState para errores
- API domain: useThankYouScreenData

// DESPU√âS: useThankYouScreenFormRefactored.ts (~150 l√≠neas)
- useFormManager: Gesti√≥n de formulario
- useModalManager: Gesti√≥n de modales
- Validaci√≥n centralizada
- API domain hook existente
```

### **FASE 3: COGNITIVE TASK (PRIORIDAD MEDIA)**
```typescript
// ANTES: useCognitiveTaskForm.ts (480 l√≠neas)
- Estado manual: formData, cognitiveTaskId, isLoading, isSaving
- Modales manuales: modalError, modalVisible, showJsonPreview
- Validaci√≥n manual: useState para errores
- API domain: useCreateCognitiveTask, useUpdateCognitiveTask
- Hooks auxiliares: useCognitiveTaskFileUpload, useCognitiveTaskModals

// DESPU√âS: useCognitiveTaskFormRefactored.ts (~200 l√≠neas)
- useFormManager: Gesti√≥n de formulario
- useModalManager: Gesti√≥n de modales
- Validaci√≥n centralizada
- Hooks auxiliares espec√≠ficos mantenidos
- API domain hooks existentes
```

### **FASE 4: SMART VOC (PRIORIDAD MEDIA)**
```typescript
// ANTES: useSmartVOCForm.ts (314 l√≠neas)
- Estado manual: formData, smartVocId, validationErrors
- Modales manuales: modalError, modalVisible, isDeleteModalOpen
- Validaci√≥n manual: useState para errores
- API domain: useSmartVOCData

// DESPU√âS: useSmartVOCFormRefactored.ts (~150 l√≠neas)
- useFormManager: Gesti√≥n de formulario
- useModalManager: Gesti√≥n de modales
- Validaci√≥n centralizada
- API domain hook existente
```

## üìã **CHECKLIST DE REFACTORIZACI√ìN**

### **WELCOME SCREEN:**
- [ ] Crear `useWelcomeScreenRefactored.ts`
- [ ] Implementar `useFormManager`
- [ ] Implementar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica
- [ ] Probar que compila
- [ ] Probar funcionalidad
- [ ] Reemplazar hook original
- [ ] Eliminar hook original

### **THANK YOU SCREEN:**
- [ ] Crear `useThankYouScreenFormRefactored.ts`
- [ ] Implementar `useFormManager`
- [ ] Implementar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica
- [ ] Probar que compila
- [ ] Probar funcionalidad
- [ ] Reemplazar hook original
- [ ] Eliminar hook original

### **COGNITIVE TASK:**
- [ ] Crear `useCognitiveTaskFormRefactored.ts`
- [ ] Implementar `useFormManager`
- [ ] Implementar `useModalManager`
- [ ] Mantener hooks auxiliares espec√≠ficos
- [ ] Probar que compila
- [ ] Probar funcionalidad
- [ ] Reemplazar hook original
- [ ] Eliminar hook original

### **SMART VOC:**
- [ ] Crear `useSmartVOCFormRefactored.ts`
- [ ] Implementar `useFormManager`
- [ ] Implementar `useModalManager`
- [ ] Mantener funcionalidad espec√≠fica
- [ ] Probar que compila
- [ ] Probar funcionalidad
- [ ] Reemplazar hook original
- [ ] Eliminar hook original

## üéØ **RESULTADO ESPERADO**

### **M√âTRICAS:**
- **L√≠neas de c√≥digo:** 1,338 ‚Üí ~600 (-55%)
- **Duplicaci√≥n:** Eliminada
- **Mantenibilidad:** Mejorada
- **Consistencia:** Asegurada
- **Testing:** Simplificado

### **BENEFICIOS:**
- ‚úÖ C√≥digo m√°s limpio y mantenible
- ‚úÖ L√≥gica com√∫n centralizada
- ‚úÖ Comportamiento consistente
- ‚úÖ Hooks gen√©ricos reutilizables
- ‚úÖ Mejor testing y debugging
- ‚úÖ Documentaci√≥n clara

## üöÄ **PR√ìXIMOS PASOS**

1. **Implementar Fase 1** - WelcomeScreen
2. **Implementar Fase 2** - ThankYouScreen  
3. **Implementar Fase 3** - CognitiveTask
4. **Implementar Fase 4** - SmartVOC
5. **Testing completo** - Verificar funcionalidad
6. **Documentaci√≥n** - Crear gu√≠as de uso
7. **Cleanup** - Eliminar hooks originales
